<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Record Video</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- <link href="https://vjs.zencdn.net/7.8.4/video-js.css" rel="stylesheet" /> -->

    <!-- load css -->
    <!-- <link
      rel="stylesheet"
      href="https://unpkg.com/videojs-record/dist/css/videojs.record.min.css"
    /> -->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.5/video-js.min.css" rel="stylesheet"> -->
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/videojs-record/3.8.0/css/videojs.record.min.css" rel="stylesheet"> -->


    <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
    <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>

    <style>
      /* change player background color */
      #myVideo {
        background-color:#6658f5;
      }
    </style>
  </head>

  <body>
    <h1 class="text-center">Hello World</h1>

    <video id="myVideo" class="video-js vjs-default-skin"></video>

    <!-- load script -->
    <!-- <script src="https://unpkg.com/videojs-record/dist/videojs.record.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-record/3.8.0/videojs.record.js"></script> -->
    <!-- recommended -->
    <!-- <script src="https://www.WebRTC-Experiment.com/RecordRTC.js"></script> -->
    <!-- <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.1.1/adapter.min.js"></script> -->

    <!-- use 5.6.1 or any other version on cdnjs -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/RecordRTC/5.6.1/RecordRTC.js"></script> -->

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.5/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-record/3.8.0/videojs.record.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.5/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.1.1/adapter.min.js"></script>
    <script src="https://cdn.WebRTC-Experiment.com/RecordRTC.js"></script> -->
    <!-- <script src="https://vjs.zencdn.net/7.8.4/video.js"></script> -->

    <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.5/video-js.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/videojs-record/3.8.0/css/videojs.record.min.css" rel="stylesheet">

    <script src="https://cdn.WebRTC-Experiment.com/RecordRTC.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.5.5/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.1.1/adapter.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-record/3.8.0/videojs.record.js"></script>


    <script type="text/javascript">
      var videoMaxLengthInSeconds = 120;

      // Inialize the video player
      var player = videojs(
        "myVideo",
        {
          controls: true,
          width: 720,
          height: 480,
          fluid: false,
          plugins: {
            record: {
              audio: true,
              video: true,
              maxLength: videoMaxLengthInSeconds,
              debug: true,
              videoMimeType: "video/webm;codecs=H264",
            },
          },
        },
        function () {
          // print version information at startup
          videojs.log(
            "Using video.js",
            videojs.VERSION,
            "with videojs-record",
            videojs.getPluginVersion("record"),
            "and recordrtc",
            RecordRTC.version
          );
        }
      );

      // error handling for getUserMedia
      player.on("deviceError", function () {
        console.log("device error:", player.deviceErrorCode);
      });

      // Handle error events of the video player
      player.on("error", function (error) {
        console.log("error:", error);
      });

      // user clicked the record button and started recording !
      player.on("startRecord", function () {
        console.log("started recording! Do whatever you need to");
      });

      // user completed recording and stream is available
      // Upload the Blob to your server or download it locally !
      player.on("finishRecord", function () {
        // the blob object contains the recorded data that
        // can be downloaded by the user, stored on server etc.
        var videoBlob = player.recordedData.video;

        console.log("finished recording: ", videoBlob);
      });
    </script>
  </body>
</html>
